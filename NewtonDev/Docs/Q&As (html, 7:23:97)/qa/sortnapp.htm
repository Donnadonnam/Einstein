<HTML><HEAD><TITLE>Newton 2.x Q&amp;A: How to Control Sort Order in NewtApp</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><CENTER><H2>How to Control Sort Order in NewtApp</H2><H4> One of the Newton 2.x OS Q&amp;As<BR>Copyright © 1997 Newton, Inc.  All Rights Reserved. Newton, Newton Technology, Newton Works, the Newton, Inc. logo, the Newton Technology logo, the Light Bulb logo and MessagePad are trademarks of Newton, Inc. and may be registered in the U.S.A. and other countries. Windows is a registered trademark of Microsoft Corp. All other trademarks and company names are the intellectual property of their respective owners.</H4><BR>For the most recent version of the Q&amp;As on the World Wide Web, check the URL: <CODE><A HREF="http://www.newton-inc.com/dev/techinfo/qa/qa.htm">http://www.newton-inc.com/dev/techinfo/qa/qa.htm</A></CODE><BR>If you've copied this file locally,<A HREF="qa.htm">click here to go to the main Newton Q&amp;A page.</A><BR>This document was exported on 7/23/97.</CENTER><H3><HR><B> </B>How to Control Sort Order in NewtApp  (5/10/96)</H3><DL><DD>Q:    While a NewtApp application is running, can I change the order in which soup items appear?<BR><BR>A:    Yes, the key to changing the sort order is to modify the query spec in the <CODE>allSoups</CODE> frame, and then cause the application to refresh.  The cursor that controls the sort order for the layout is built from the <CODE>masterSoupSlot </CODE>slot.  Both the default and the overview layouts have a <CODE>masterSoupSlot </CODE>which points back to the relevant <CODE>allSoups </CODE>slot in the app base view. <BR><BR>     Here are the basic steps:<BR><BR>    1) Ensure <CODE>newtAppBase.allSoups </CODE>& <CODE>newtAppBase.allSoups.mySoup </CODE>are writeable.  (Since the frames reside in the package, they are in protected memory.)<BR>    2) Modify the query spec to the new sort order.<BR>    3) Now send <CODE>newtAppBase.allSoups.mySoup:SetupCursor() </CODE>to create a new cursor using the new query spec.<BR>    4) Then do a <CODE>newtAppBase:RedoChildren()</CODE> to display the items in the new sort order.<BR>        The code would look something like:<BR><CODE><PRE>      if IsReadOnly (newtAppBase.allSoups) then        newtAppBase.allSoups := {_proto: newtAppBase.allSoups};   if IsReadOnly (newtAppBase.allSoups.mySoup) then        newtAppBase.allSoups.mySoup :={            _proto: newtAppBase.allSoups.mySoup};        newtAppBase.allSoups.mySoup.soupQuery :=             {indexpath: newKey};            // new sort order!        newtAppBase.allSoups.mySoup:SetupCursor();        newtAppBase:RedoChildren();</CODE></PRE></DL>