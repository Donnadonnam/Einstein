<HTML><HEAD><TITLE>Newton 2.x Q&amp;A: Programmatically Changing the Default ViewDef</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><CENTER><H2>Programmatically Changing the Default ViewDef</H2><H4> One of the Newton 2.x OS Q&amp;As<BR>Copyright © 1997 Newton, Inc.  All Rights Reserved. Newton, Newton Technology, Newton Works, the Newton, Inc. logo, the Newton Technology logo, the Light Bulb logo and MessagePad are trademarks of Newton, Inc. and may be registered in the U.S.A. and other countries. Windows is a registered trademark of Microsoft Corp. All other trademarks and company names are the intellectual property of their respective owners.</H4><BR>For the most recent version of the Q&amp;As on the World Wide Web, check the URL: <CODE><A HREF="http://www.newton-inc.com/dev/techinfo/qa/qa.htm">http://www.newton-inc.com/dev/techinfo/qa/qa.htm</A></CODE><BR>If you've copied this file locally,<A HREF="qa.htm">click here to go to the main Newton Q&amp;A page.</A><BR>This document was exported on 7/23/97.</CENTER><H3><HR><B> </B>Programmatically Changing the Default ViewDef  (1/3/97)</H3><DL><DD>Q:    I want to be able to programmatically change which viewDef is shown when I tap the "New" button in my newtApp-based application.  How can I do this?<BR><BR>A:    By default, the viewDef which is shown when you create a new entry is the one with the value <CODE>'default</CODE> in its <CODE>symbol</CODE> slot.  To change this behavior at run-time, you will need to override the <CODE>StatScript</CODE> method of your <CODE>newtNewStationeryButton</CODE>.<BR><BR>    In the <CODE>StatScript</CODE> method, you will set two slots in your application.  The first slot is the <CODE>preferredViewDef</CODE> slot in your application's base view.  The second is the <CODE>viewDef</CODE> slot of the current layout.  Both of these slots should be set to the symbol of the viewDef that you want displayed.  For instance, you might have the following <CODE>StatScript</CODE>:<BR><BR><CODE><PRE>StatScript := func( theStat )begin    preferredViewDef := 'myNewDefaultStationery;    layout.viewDef:= 'myNewDefaultStationery;        // Make sure we call the inherited method    inherited:?StatScript( theStat );</PRE><BR>    end;</CODE><BR><BR>    Note: you must not modify either the application's <CODE>preferredViewDef</CODE> slot or the layout's <CODE>viewDef</CODE> slot at any other time.  Doing so could cause your application to not work on future versions of the Newton OS.</DL>