/*	File:		LanternDriverAPI.proto.h	Contains:	Lantern Driver API Protocol Definition.	Obtained from NIE2.0 F1C2 build. 9/4/97*/#ifndef	__LANTERNDRIVERAPI_PROTO_H#define __LANTERNDRIVERAPI_PROTO_H#include "Protocols.h"#include "LanternTypes.h"#include "LanternErrors.h"#include "LanternEvents.h"#ifdef PROTOCOLGEN	// Make protocolgen happy about TTime definition.	class TTime;#endifclass TLanternTask;#define kDefaultPowerDownTime 10000		// Allow 10 seconds (ie. appletalk likes this).typedef	void (*DriverProcPtr)(void*, ...);PROTOCOL TLanternDriverAPI : public TProtocol{public:	// C++ Object Setup	static TLanternDriverAPI*	New(char*);	void						Delete();	NewtonErr	Init(TLanternTask*);								// Called by lanternTask	// The following methods are not events as the driver is not allowed to do synchronous requests	// and these methods need to be synchronous.	// These methods also call directly to the same task (Lantern) so it avoids	// sending an event to the same task.	NewtonErr	PowerOn(Boolean* powerOn, Boolean intEnable=true);	// call to request power up, with INT control	NewtonErr	PowerOff(ULong msDelay=kDefaultPowerDownTime, Boolean intDisable=true);	// call to request power down, with INT control	Ptr			NewPacketPtr(Size size);								// Request a packet ptr from lantern	NewtonErr	RxReady(Ptr buf, Size size=0);							// received data buffer is ready	NewtonErr	InterruptDone(void);									// optional early interrupt processing method	NewtonErr	CardHandlerSpecific(ULong selector, ...);				// call to the card handler card specific	NewtonErr	AddEventHandler(kLanternEventType, DriverProcPtr);		// add an event handler	NewtonErr	PostEvent(kLanternEventType, ...);						// post a driver event	NewtonErr	PostLocalEvent(kLanternEventType, ...);			 		// post a local event to our task	NewtonErr	PostLocalEvent(TTime*, kLanternEventType, ...); 		// post a deferred local event																		// ...to our task	NewtonErr	PostReply(NewtonErr);									// post a driver reply (no args)	NewtonErr	PostReply(NewtonErr, ULong nArgs, ...);					// post a driver reply};#endif __LANTERNDRIVERAPI_PROTO_H