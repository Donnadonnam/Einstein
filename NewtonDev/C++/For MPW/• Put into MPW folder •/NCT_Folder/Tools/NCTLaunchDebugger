# Launches {NCT_Debugger_name} with the current image file selection or gets a new selection if one does not existSet __debuggerPath_ "`Which "{NCT_Debugger_name}" ≥ Dev:Null || Set Status 0`"if "{__debuggerPath_}" == ""	Set __debuggerPath_ "`Which "{NCT_Debugger_name} alias" ≥ Dev:Null || Set Status 0`" endIf "{__debuggerPath_}" == ""	Alert  "An Alias file for “{NCT_Debugger_name}” is not present within the “{NCTTools}” folder.∂n Please create one and place it there."	Exit 1endSet nct_saved_Dir "`Directory -q`"If "{NCT_Cur_Image-path}" ≠ ""	# if the Cur_Image-path is a pathname of a file the assume NCT_ROMImages-dir must exists and have image files in it	# so this script is being called with a full pathname of the image selected from a sub-menu	if `Exists -f "{NCT_Cur_Image-path}"`		Flush # clear stuff out before launching the Debugger		{__debuggerPath_} "{NCT_Cur_Image-path}"		unset __debuggerPath_		Exit 0	end	# else if Cur_Image-path is a directory then  NCT_ROMImages-dir doesn't exist and user selects image file each time	# but this time the path to user's last image file seleciton is known	if	`Exists -d "{NCT_Cur_Image-path}"`		# so set the directory back to that same directory		Directory "{NCT_Cur_Image-path}"	else		# it was valid last time but it was moved/renamed/deleted so revert		Directory "{NCTSources}"	endElse	#else this is the first time so start at the rootdir of my tree	Directory "{NCTSources}"EndSet NCT_new_Image-path "`GetFileName -q  -t 'aif ' -b "Select" -m "Select an Image file:" || Set Status 0`"If "{NCT_new_Image-path}" ≠ ""	if `Exists -f "{NCT_new_Image-path}"`		Flush # clear stuff out before launching the Debugger		{__debuggerPath_} "{NCT_new_Image-path}"	endEndIf `Evaluate "{NCT_new_Image-path}" =~ /(≈)®1:≈ image/`	Set NCT_Cur_Image-path "{®1}:"	if	"`Exists -q -d "{NCT_Cur_Image-path}"`" == ""		# well something is weird or the filename didn't end with ‘ image’		# so be safe and don't save the path that doesn't work		Set NCT_Cur_Image-path ""	endEndunset ®1unset __debuggerPath_unset NCT_new_Image-pathdirectory "{nct_saved_Dir}"unset nct_saved_Dir