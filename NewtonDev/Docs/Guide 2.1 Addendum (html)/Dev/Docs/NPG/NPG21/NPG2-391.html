<!-- Generated by Harlequin WebMaker 2.3.1 (16-Oct-1996)Macintosh Common Lisp Version 4.0 --><HTML> <HEAD><TITLE>DragAndDropLtd</TITLE></HEAD><BODY><A NAME=HEADING391></A><CENTER>     <IMG BORDER="0" SRC="../../../../images/level3.gif" ALT="Title Banner"      ISMAP USEMAP="#level3">     <BR>     <MAP NAME="level3">     <!-- Find It -->     <AREA SHAPE="RECT" COORDS="7, 9, 69, 30" HREF="../../../../find.html">     <!-- Main -->     <AREA SHAPE="RECT" COORDS="432, 9, 492, 30" HREF="../../../../devworld.shtml">     </MAP><P><A HREF="NPG2-390.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-392.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><FONT SIZE=-1><DL><DT><A HREF="../../techinfo.html"><B>Newton Developer Technical Information:</B></A> <A HREF="NPG2-2.html"><B>Newton Programmer's Guide: 2.1 OS Addendum</B></A> / <BR><DD><A HREF="NPG2-372.html"><B>Chapter 11 - Miscellaneous</B></A> / <A HREF="NPG2-373.html"><B>Reference</B></A><BR><DL><DD><A HREF="NPG2-388.html"><B>Functions and Methods</B></A> / <A HREF="NPG2-389.html"><B>Views</B></A></DL></DL></FONT><P><HR><BLOCKQUOTE><A NAME=HEADING391-0></A><H3><A NAME=MARKER-9-70></A><A NAME=MARKER-24-71></A>DragAndDropLtd</H3><CODE><I>view</I>:DragAndDropLtd(<I>unit</I>, <I>dragBounds</I>, <I>limitBounds</I>, <I>copy</I>, <I>dragInfo</I>)    //platform file function</CODE><P> Starts the drag and drop process, returning when the dragged item(s) is dropped into a view or into the clipboard; it is usually called from a <CODE>ViewClickScript</CODE>.<P><DL><DT><I><I>unit</I></I><DD> The stroke unit received by the <CODE>ViewClickScript</CODE> method.<P><DT><I><I>dragBounds</I></I><DD> The bounds of the item to be dragged, in global coordinates. The image enclosed by the bounds is used by the clipboard.<P><DT><I><I>limitBounds</I></I><DD> A bounds frame, or a frame with two optional slots: <CODE>limitBounds</CODE> and <CODE>pinBounds</CODE>. If you specify a bounds frame, it is the bounds in global coordinates in which the object can be dragged. <P><DT><I></I><DD> Otherwise, you may pass in a frame with the following slots:<P><CODE>limitBounds</CODE> A bounds frame, the symbol <CODE>'none</CODE>, or <CODE>nil</CODE>. The bounds frame is a rectangle in global coordinates in which the object can be dragged. The symbol <CODE>'none</CODE> specifies that there is no limiting rectangle, and the object can be dragged anywhere on the screen. If you pass <CODE>nil</CODE> (or do not include a <CODE>limitBounds</CODE> slot) the app area is used as the limiting rectangle.<P><CODE>pinBounds</CODE> A bounds frame, the symbol <CODE>'none</CODE>, or <CODE>nil</CODE>. The bounds to use when constraining the object within the limiting rectangle defined in the <CODE>limitBounds</CODE> slot. If you pass <CODE>nil</CODE>, the drag object's bounds, <I>dragBounds</I>, are used. If you pass <CODE>'none</CODE>, an empty rectangle (with 0 width and height) is specified at the point where the pen went down to drag the object; that is, the object moves until the tip of the pen reaches the limit bounds.<P> If the object being dragged is small, compared to the size of the <CODE>limitBounds</CODE>, you may want to specify a <CODE>pinBounds</CODE> smaller than <I>dragBounds</I>, otherwise the object may not appear to move far enough. If you specify a bounds frame larger that <I>dragBounds</I>, the object cannot be dragged near the edge of the <CODE>limitBounds</CODE>.<P><DT><I><I>copy</I></I><DD> <CODE>Nil</CODE> or non-<CODE>nil</CODE>, indicating whether to drag a copy or the original items. Specify non-<CODE>nil</CODE> to drag a copy, or <CODE>nil</CODE> to move the original items.<P><DT><I><I>dragInfo</I></I><DD> An array of frames (one frame per dragged item). Each frame has the following slots:<P><CODE>types</CODE> An array of symbols of the types to which an item can be converted.<P><CODE><A NAME=MARKER-10-72></A>dragRef</CODE> Any valid NewtonScript object. This value is passed to your other methods, such as your <CODE>ViewGetDropDataScript</CODE>.<P><CODE>label</CODE> An optional string used when the drop is to the clipboard; it is used as the clipboard label. If this slot is missing and the item has a <CODE>'text</CODE> type, the text data is used as the label; otherwise a default label is used. <P><CODE>minDragDistance</CODE>  An integer, the minimum distance in pixels that the user must drag the object before it moves. The default is 4.<P><DT><I>return value </I><DD> This method returns one of the following integers:<P><CODE>kDragNot</CODE> = 0 The item was not dragged at all.<P><CODE>kDragged</CODE> = 1 The item was dragged, but was rejected by the destination.<P><CODE>kDragNDropped</CODE> = 2  The item was dropped into another view. <P><DT><B><IMPORTANT>IMPORTANT<EM></EM></B><DD>This function is not defined in all ROM versions and is supplied by the NTK Platform file. This implementation, as a global function, and not as a view method, requires an additional argument <I>view</I>, the view calling this function.  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif"></DL> Call it using this syntax:<P><PRE><P> call kDragAndDropLtdFunc with (<I>view</I>, <I>unit</I>, <I>dragBounds</I>, <I>limitBounds</I>, <I>copy</I>, <I>dragInfo</I>));<P></PRE><DL><DD> <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif"></DL><B>DISCUSSION</B><P> The <A HREF=#MARKER-9-70><EM>*</EM></A>DragAndDropLtd method sends several messages to both the source view (the view from which <A HREF=#MARKER-9-70><EM>*</EM></A>DragAndDropLtd was sent) and the destination view (the view that will receive the items). If you want other views to be able to accept data, these views must implement all of the destination methods. If you have more than one view that can receive a drop, it is easier if you make one drop-aware proto and use it for your other views.<P></BLOCKQUOTE><HR><center><A HREF="NPG2-390.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-392.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><center><font size=-1><A HREF="NPG2-3.html">&copy; Apple Computer, Inc.</A><br>26 APR 1997<P><!--------------------------- Navigation Area ----------------------------------><BR><!-- Navigation Area --><BR><A HREF="reference to server cgi goes here"><IMG BORDER="0" SRC="../../../../images/nav.gif" WIDTH="500" HEIGHT="32" ALT="Navigation graphic, see text links" ISMAP USEMAP="#nav"></A><BR><P><A HREF="../../../../devworld.shtml">Main</A> | <A HREF="../../techinfo.html">Top of Section</A> | <A HREF="../../newtondev.shtml#WhatsNew">What's New</A> | <A HREF="http://www.apple.com/">Apple Computer, Inc.</A> |<A HREF="../../../../find.html">Find It</A> | <A HREF="../../feedback.html">Feedback</A> | <A HREF="../../../../help.html">Help</A></FONT><P></CENTER><!-- Don't forget to add the necessary links for each of these items. --><BR><MAP NAME="nav"><!-- client side map for www.apple.com nav.gif --><!-- Main --><AREA SHAPE="RECT" COORDS="9,6,70,25" HREF="../../../../devworld.shtml"><!-- Page One --><AREA SHAPE="RECT" COORDS="80,6,142,25" HREF="../../techinfo.html"><!-- What's New --><AREA SHAPE="RECT" COORDS="150,5,211,25" HREF="../../newtondev.shtml#WhatsNew"><!-- Apple Logo --><AREA SHAPE="RECT" COORDS="220,6,280,25" HREF="http://www.apple.com/"><!-- Find It --><AREA SHAPE="RECT" COORDS="290,5,350,26" HREF="../../../../find.html"><!-- Contact Us --><AREA SHAPE="RECT" COORDS="361,5,422,25" HREF="../../feedback.html"><!-- Help --><AREA SHAPE="RECT" COORDS="430,5,492,25" HREF="../../../../help.html"><!-- DEFAULT AREA NOT SUPPORTED BY CLIENT SIDE IMAGEMAPS! --></MAP><P></BODY></HTML> 