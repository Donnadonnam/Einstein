<!-- Generated by Harlequin WebMaker 2.3.1 (16-Oct-1996)Macintosh Common Lisp Version 4.0 --><HTML> <HEAD><TITLE>Draw Application Methods</TITLE></HEAD><BODY><A NAME=HEADING53></A><CENTER>     <IMG BORDER="0" SRC="../../../../images/level3.gif" ALT="Title Banner"      ISMAP USEMAP="#level3">     <BR>     <MAP NAME="level3">     <!-- Find It -->     <AREA SHAPE="RECT" COORDS="7, 9, 69, 30" HREF="../../../../find.html">     <!-- Main -->     <AREA SHAPE="RECT" COORDS="432, 9, 492, 30" HREF="../../../../devworld.shtml">     </MAP><P><A HREF="NPG2-52.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-54.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><FONT SIZE=-1><DL><DT><A HREF="../../techinfo.html"><B>Newton Developer Technical Information:</B></A> <A HREF="NPG2-2.html"><B>Newton Programmer's Guide: 2.1 OS Addendum</B></A> / <BR><DD><A HREF="NPG2-45.html"><B>Chapter 2 - Newton Works Draw Application</B></A> / <A HREF="NPG2-49.html"><B>Using the Drawing Application Interface</B></A></DL></FONT><P><HR><BLOCKQUOTE><A NAME=HEADING53-0></A><H2><A NAME=MARKER-9-9></A>Draw Application Methods</H2> In addition to the <A HREF=NPG2-90.html#MARKER-9-75><EM>*</EM></A><CODE>RegTool</CODE>, <A HREF=NPG2-86.html#MARKER-9-67><EM>*</EM></A><CODE>RegPatterns</CODE>, and <A HREF=NPG2-88.html#MARKER-9-71><EM>*</EM></A><CODE>RegStamps</CODE> methods, and their unregistering counterparts discussed elsewhere in this chapter, the Draw application's viewDef contains three other methods of interest: <A HREF=NPG2-84.html#MARKER-9-63><EM>*</EM></A><CODE>GetContents</CODE>, <CODE><A HREF=NPG2-85.html#MARKER-9-65><EM>*</A>SetContents</EM></CODE>, and <A HREF=NPG2-83.html#MARKER-9-61><EM>*</EM></A><CODE>GetCanvas</CODE>. The <A HREF=NPG2-84.html#MARKER-9-63><EM>*</EM></A><CODE>GetContents</CODE> and <A HREF=NPG2-85.html#MARKER-9-65><EM>*</EM></A><CODE>SetContents</CODE> methods are used to manipulate the entire contents of the current drawing. <P> The <A HREF=NPG2-83.html#MARKER-9-61><EM>*</EM></A><CODE>GetCanvas</CODE> method returns a reference to the canvas view; a number of methods are defined in this view which are available to you. For more information on the canvas view, see <A HREF=NPG2-54.html#MARKER-9-10>&quot;The Canvas and Its Methods&quot;</A>.<P> The way you get a reference to the Draw application viewDef, to send these methods to, depends on the environment in which your code is executing. <P><UL><LI>If you are writing code for a tool, this code executes as a child of the canvas. In this case you can send these methods to <CODE>self</CODE>. The Draw application is found via parent inheritance, as in the following sample calls:</UL><PRE><P>    :GetContents();<P>    :GetCanvas();<P><P></PRE><UL><LI>If you are writing code for a tool to be added to the Tools picker, with the Newton Works <A HREF=NPG2-25.html#MARKER-9-38><EM>*</EM></A><CODE>RegNewtWorksTool</CODE> method, this code executes in the environment of Newton Works, not its Draw application viewDef. In this case, send these messages to the <CODE>viewDefView</CODE> slot, as in the following sample calls:</UL><PRE><P>    viewDefView:GetContents();<P>    viewDefView:GetCanvas();<P><P></PRE><UL><LI>If your code is executing outside these environments, you can get a reference to the Draw application by explicitly accessing Newton Work's <CODE>viewDefView</CODE> slot. However, in this case it is not guaranteed that the Draw application is the current displaying viewDef; you must check for this before sending these messages, as in the following code:</UL><PRE><P> if GetRoot().newtWorks AND Visible(GetRoot().newtWorks) then<P>begin   local curNWApp := GetRoot().newtWorks.viewDefView;   if GetVariable(curNWApp, 'currentdatatype) = 'drawPaper then   begin      local cont := curNWApp:GetContents();      local can := curNWApp:GetCanvas();      ...   end; end;<P><P></PRE></BLOCKQUOTE><HR><center><A HREF="NPG2-52.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-54.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><center><font size=-1><A HREF="NPG2-3.html">&copy; Apple Computer, Inc.</A><br>26 APR 1997<P><!--------------------------- Navigation Area ----------------------------------><BR><!-- Navigation Area --><BR><A HREF="reference to server cgi goes here"><IMG BORDER="0" SRC="../../../../images/nav.gif" WIDTH="500" HEIGHT="32" ALT="Navigation graphic, see text links" ISMAP USEMAP="#nav"></A><BR><P><A HREF="../../../../devworld.shtml">Main</A> | <A HREF="../../techinfo.html">Top of Section</A> | <A HREF="../../newtondev.shtml#WhatsNew">What's New</A> | <A HREF="http://www.apple.com/">Apple Computer, Inc.</A> |<A HREF="../../../../find.html">Find It</A> | <A HREF="../../feedback.html">Feedback</A> | <A HREF="../../../../help.html">Help</A></FONT><P></CENTER><!-- Don't forget to add the necessary links for each of these items. --><BR><MAP NAME="nav"><!-- client side map for www.apple.com nav.gif --><!-- Main --><AREA SHAPE="RECT" COORDS="9,6,70,25" HREF="../../../../devworld.shtml"><!-- Page One --><AREA SHAPE="RECT" COORDS="80,6,142,25" HREF="../../techinfo.html"><!-- What's New --><AREA SHAPE="RECT" COORDS="150,5,211,25" HREF="../../newtondev.shtml#WhatsNew"><!-- Apple Logo --><AREA SHAPE="RECT" COORDS="220,6,280,25" HREF="http://www.apple.com/"><!-- Find It --><AREA SHAPE="RECT" COORDS="290,5,350,26" HREF="../../../../find.html"><!-- Contact Us --><AREA SHAPE="RECT" COORDS="361,5,422,25" HREF="../../feedback.html"><!-- Help --><AREA SHAPE="RECT" COORDS="430,5,492,25" HREF="../../../../help.html"><!-- DEFAULT AREA NOT SUPPORTED BY CLIENT SIDE IMAGEMAPS! --></MAP><P></BODY></HTML> 