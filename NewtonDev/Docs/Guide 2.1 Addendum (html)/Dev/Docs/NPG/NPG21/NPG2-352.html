<!-- Generated by Harlequin WebMaker 2.3.1 (16-Oct-1996)Macintosh Common Lisp Version 4.0 --><HTML> <HEAD><TITLE>Getting IrDA Tool Information</TITLE></HEAD><BODY><A NAME=HEADING352></A><CENTER>     <IMG BORDER="0" SRC="../../../../images/level3.gif" ALT="Title Banner"      ISMAP USEMAP="#level3">     <BR>     <MAP NAME="level3">     <!-- Find It -->     <AREA SHAPE="RECT" COORDS="7, 9, 69, 30" HREF="../../../../find.html">     <!-- Main -->     <AREA SHAPE="RECT" COORDS="432, 9, 492, 30" HREF="../../../../devworld.shtml">     </MAP><P><A HREF="NPG2-351.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-353.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><FONT SIZE=-1><DL><DT><A HREF="../../techinfo.html"><B>Newton Developer Technical Information:</B></A> <A HREF="NPG2-2.html"><B>Newton Programmer's Guide: 2.1 OS Addendum</B></A> / <BR><DD><A HREF="NPG2-346.html"><B>Chapter 9 - IrDA Communication Tool</B></A> / <A HREF="NPG2-350.html"><B>Using the IrDA Tool</B></A></DL></FONT><P><HR><BLOCKQUOTE><A NAME=HEADING352-0></A><H2><A NAME=MARKER-10-25></A>Getting IrDA Tool Information</H2> After a connection has been made, you may want to know various results of the connection such as connection speed, buffer size, and so on. The following example option can be used with the endpoint <CODE>Option</CODE> method to get this information.<P><PRE><P> local connectedOptions :=<P>[   {  label:kCMOIrDADiscoveryInformation, // IrDA discovery info      type: 'option,      opCode:opGetCurrent,      data: {         arglist: [            0,            0,            0,    // service hints of discovered dev            0,    // dev addr of discovered device            0,         ],         typelist: [            'struct,            'uLong, // num probe slots, def:8            'uLong, // my svc hint, default: kIrDASvcHintPDAPalmtop            'uLong, // service hint mask            'uLong, // returned devAddr of peer device            'uLong, // use standard media busy check?         ],       },   },   {  label:kCMOSerialBitRate, // serial bit rate      type: 'option,      opCode:opGetCurrent,      data: {         arglist: [            0,    // negotiated speed         ],         typelist: [            'struct,            'uLong, // max negotiate speed, def: 115.2k         ],       },   },   {  label:kCMOIrDAReceiveBuffers, // IrDA recv buffers info      type: 'option,      opCode:opGetCurrent,      data: {         arglist: [            0,    // negotiated buffer size            0,    // negotiated max buffers in use         ],         typelist: [            'struct,            'uLong, // size of ea recv buf, def: 512            'uLong, // num recv bufs used, def: 1         ],       },   },   {  label:kCMOIrDALinkDisconnectTimeout, // link disconn. threshld      type: 'option,      opCode:opGetCurrent,      data: {         arglist: [            0,    // negotiated disconnect timeout         ],         typelist: [            'struct,            'uLong, // Time before disc, def: 40 secs         ],       },   },   {  label:kCMOSlowIRConnect, // &quot;SlowIR&quot; connect info      type: 'option,      opCode:opGetCurrent,      data: {         arglist: [            0,    // connectOptions results         ],         typelist: [            'struct,            'uLong, // How did we connect?         ],       },   }, ];<P><P></PRE> You may also want to know the status of the connection regarding error and retry rates. You can use the <CODE>kCMOSlowIRStats</CODE> option to return this information. Note that the <CODE>kCMOSlowIRStats</CODE> option is not documented in this chapter because it's already covered in the "Built-in Communications Tools" chapter of <I>Newton Programmer's Reference</I>, under the infrared communications tool.<P></BLOCKQUOTE><HR><center><A HREF="NPG2-351.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-353.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><center><font size=-1><A HREF="NPG2-3.html">&copy; Apple Computer, Inc.</A><br>26 APR 1997<P><!--------------------------- Navigation Area ----------------------------------><BR><!-- Navigation Area --><BR><A HREF="reference to server cgi goes here"><IMG BORDER="0" SRC="../../../../images/nav.gif" WIDTH="500" HEIGHT="32" ALT="Navigation graphic, see text links" ISMAP USEMAP="#nav"></A><BR><P><A HREF="../../../../devworld.shtml">Main</A> | <A HREF="../../techinfo.html">Top of Section</A> | <A HREF="../../newtondev.shtml#WhatsNew">What's New</A> | <A HREF="http://www.apple.com/">Apple Computer, Inc.</A> |<A HREF="../../../../find.html">Find It</A> | <A HREF="../../feedback.html">Feedback</A> | <A HREF="../../../../help.html">Help</A></FONT><P></CENTER><!-- Don't forget to add the necessary links for each of these items. --><BR><MAP NAME="nav"><!-- client side map for www.apple.com nav.gif --><!-- Main --><AREA SHAPE="RECT" COORDS="9,6,70,25" HREF="../../../../devworld.shtml"><!-- Page One --><AREA SHAPE="RECT" COORDS="80,6,142,25" HREF="../../techinfo.html"><!-- What's New --><AREA SHAPE="RECT" COORDS="150,5,211,25" HREF="../../newtondev.shtml#WhatsNew"><!-- Apple Logo --><AREA SHAPE="RECT" COORDS="220,6,280,25" HREF="http://www.apple.com/"><!-- Find It --><AREA SHAPE="RECT" COORDS="290,5,350,26" HREF="../../../../find.html"><!-- Contact Us --><AREA SHAPE="RECT" COORDS="361,5,422,25" HREF="../../feedback.html"><!-- Help --><AREA SHAPE="RECT" COORDS="430,5,492,25" HREF="../../../../help.html"><!-- DEFAULT AREA NOT SUPPORTED BY CLIENT SIDE IMAGEMAPS! --></MAP><P></BODY></HTML> 