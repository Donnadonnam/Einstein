<!-- Generated by Harlequin WebMaker 2.3.1 (16-Oct-1996)Macintosh Common Lisp Version 4.0 --><HTML> <HEAD><TITLE>Connection Information Option</TITLE></HEAD><BODY><A NAME=HEADING356></A><CENTER>     <IMG BORDER="0" SRC="../../../../images/level3.gif" ALT="Title Banner"      ISMAP USEMAP="#level3">     <BR>     <MAP NAME="level3">     <!-- Find It -->     <AREA SHAPE="RECT" COORDS="7, 9, 69, 30" HREF="../../../../find.html">     <!-- Main -->     <AREA SHAPE="RECT" COORDS="432, 9, 492, 30" HREF="../../../../devworld.shtml">     </MAP><P><A HREF="NPG2-355.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-357.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><FONT SIZE=-1><DL><DT><A HREF="../../techinfo.html"><B>Newton Developer Technical Information:</B></A> <A HREF="NPG2-2.html"><B>Newton Programmer's Guide: 2.1 OS Addendum</B></A> / <BR><DD><A HREF="NPG2-346.html"><B>Chapter 9 - IrDA Communication Tool</B></A> / <A HREF="NPG2-354.html"><B>IrDA Tool Option Reference</B></A></DL></FONT><P><HR><BLOCKQUOTE><A NAME=HEADING356-0></A><H2><A NAME=MARKER-9-29></A><A NAME=MARKER-24-30></A>Connection Information Option</H2> The second stage of the connection process involves a name lookup of the service to use, or registry of the service provided. The <A HREF=#MARKER-9-29><EM>*</EM></A>kCMOIrDAConnectInformation option is used to specify this information.<P> The following example shows the use of this option:<P><PRE><P> local option := {<P>   label:  kCMOIrDAConnectInformation, // &quot;irci&quot;   type:   'option,   opCode: opSetRequired,   data: {      arglist: [         0,       // LSAP id         0,       // peer LSAP id         4,       // strlen(&quot;Test&quot;)         5,       // strlen(&quot;IrLPT&quot;)         &quot;Test&quot;,  // my name         &quot;IrLPT&quot;, // peer name      ],      typelist: [         'struct,         'uLong,           // fMyLSAPId         'uLong,           // fPeerLSAPId         'uLong,           // fMyNameLength         'uLong,           // fPeerNameLength         ['array, 'char, 0], // fMyName         ['array, 'char, 0], // fPeerName      ],    }, };<P><P></PRE> The fields in the IrDA connection information option frame are described in <A HREF=#MARKER-9-3>Table 9-5</A>.<p><B>Table 9-5  <A NAME=MARKER-9-3></A>IrDA connection information option fields</B><TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Option field<TH>Description<TR><TD>fMyLSAPId<TD>Set to 0 and the IrDA comm tool chooses a random LSAP id (between 1 and 31), or you may set a specific value from 1 to 31. The default is 0.<TR><TD>fPeerLSAPId<TD>Set to 0 to do the service lookup by name, or specify any other value from 1 to 111. If the value is non-zero, then the name lookup phase is skipped and connection is made using an LSAP id with that value. The default is 0.<TR><TD>fMyNameLength<TD>The length, in characters, of the <CODE>fMyName</CODE> string. The default is 1.<TR><TD>fPeerNameLength<TD>The length, in characters, of the <CODE>fPeerName</CODE> string. The default is 1.<TR><TD>fMyName<TD>A string identifying the service provided by the Newton unit. The default is "X".<TR><TD>fPeerName<TD>A string identifying the service provided by the peer device. The default is "X".</TABLE><P> Note that the only reason to use a specific value for the <CODE>fMyLSAPId</CODE> field would be to advertise your service by number instead of by name--and that is not recommended per IrDA standards. The option is left available in case your application needs to communicate with an older desktop IrDA application.<P> Likewise for the <CODE>fPeerLSAPId</CODE> field--per IrDA standards, services should be identified and looked up by name, not number. But if you need to communicate with an older desktop IrDA application that supports access only by LSAP id (no name look up) then you will be able to by specifying the id number directly.<P><DL><DT><B>Note</B><DD>Fields used during an endpoint <CODE>Connect</CODE> operation include <CODE>fPeerLSAPId</CODE>, <CODE>fPeerNameLength</CODE> and <CODE>fClassNames</CODE>. Fields used during an endpoint <CODE>Listen</CODE> operation include <CODE>fMyLSAPId</CODE>, <CODE>fMyNameLength</CODE> and <CODE>fClassNames</CODE>. <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif"></DL> <center><A HREF="NPG2-355.html"><IMG ALIGN = BOTTOM SRC = "graphics/prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NPG2-2.html"><IMG ALIGN = BOTTOM SRC = "graphics/content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NPG2-443.html"><IMG ALIGN = BOTTOM SRC = "graphics/index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="NPG2-357.html"><IMG ALIGN = BOTTOM SRC = "graphics/next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P><center><font size=-1><A HREF="NPG2-3.html">&copy; Apple Computer, Inc.</A><br>26 APR 1997<P><!--------------------------- Navigation Area ----------------------------------><BR><!-- Navigation Area --><BR><A HREF="reference to server cgi goes here"><IMG BORDER="0" SRC="../../../../images/nav.gif" WIDTH="500" HEIGHT="32" ALT="Navigation graphic, see text links" ISMAP USEMAP="#nav"></A><BR><P><A HREF="../../../../devworld.shtml">Main</A> | <A HREF="../../techinfo.html">Top of Section</A> | <A HREF="../../newtondev.shtml#WhatsNew">What's New</A> | <A HREF="http://www.apple.com/">Apple Computer, Inc.</A> |<A HREF="../../../../find.html">Find It</A> | <A HREF="../../feedback.html">Feedback</A> | <A HREF="../../../../help.html">Help</A></FONT><P></CENTER><!-- Don't forget to add the necessary links for each of these items. --><BR><MAP NAME="nav"><!-- client side map for www.apple.com nav.gif --><!-- Main --><AREA SHAPE="RECT" COORDS="9,6,70,25" HREF="../../../../devworld.shtml"><!-- Page One --><AREA SHAPE="RECT" COORDS="80,6,142,25" HREF="../../techinfo.html"><!-- What's New --><AREA SHAPE="RECT" COORDS="150,5,211,25" HREF="../../newtondev.shtml#WhatsNew"><!-- Apple Logo --><AREA SHAPE="RECT" COORDS="220,6,280,25" HREF="http://www.apple.com/"><!-- Find It --><AREA SHAPE="RECT" COORDS="290,5,350,26" HREF="../../../../find.html"><!-- Contact Us --><AREA SHAPE="RECT" COORDS="361,5,422,25" HREF="../../feedback.html"><!-- Help --><AREA SHAPE="RECT" COORDS="430,5,492,25" HREF="../../../../help.html"><!-- DEFAULT AREA NOT SUPPORTED BY CLIENT SIDE IMAGEMAPS! --></MAP><P></BODY></HTML> 