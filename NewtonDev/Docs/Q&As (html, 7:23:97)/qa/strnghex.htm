<HTML><HEAD><TITLE>Newton 2.x Q&amp;A: Using Strings as Hex Data and Windows NTK</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><CENTER><H2>Using Strings as Hex Data and Windows NTK</H2><H4> One of the Newton 2.x OS Q&amp;As<BR>Copyright © 1997 Newton, Inc.  All Rights Reserved. Newton, Newton Technology, Newton Works, the Newton, Inc. logo, the Newton Technology logo, the Light Bulb logo and MessagePad are trademarks of Newton, Inc. and may be registered in the U.S.A. and other countries. Windows is a registered trademark of Microsoft Corp. All other trademarks and company names are the intellectual property of their respective owners.</H4><BR>For the most recent version of the Q&amp;As on the World Wide Web, check the URL: <CODE><A HREF="http://www.newton-inc.com/dev/techinfo/qa/qa.htm">http://www.newton-inc.com/dev/techinfo/qa/qa.htm</A></CODE><BR>If you've copied this file locally,<A HREF="qa.htm">click here to go to the main Newton Q&amp;A page.</A><BR>This document was exported on 7/23/97.</CENTER><H3><HR><B>CHANGED: </B>Using Strings as Hex Data and Windows NTK  (7/18/97)</H3><DL><DD>Q:    When I use <CODE>SetClass(SetLength("\u&lt;hex data&gt;"), theLength), theClass)</CODE> in Windows NTK , the binary object is not what I expect.  It seems to be byte-swapped.  How can I create binary objects with data in them in Windows NTK?<BR><BR>A:    In Windows NTK (and other Windows NS environments), strings are stored in byte swapped order, that is, low byte first.  This is because strings are basically arrays of 16-bit Unicode characters, and on the Intel platform 16-bit values are most usefully stored low byte first.  Technically, changing the class and length of a string relies on the internal representation of strings, which isn't documented or supported, though it works fine on Newton OS and Mac OS platforms.<BR><BR>    The correct way to create binary objects is to use the new <CODE>MakeBinaryFromHex()</CODE> function; it handles the byte-swapping issues properly.  This function is defined by the platform file, and only runs at build-time -- it doesn't exist on the Newton device.  You may need to get a newer platform file because this function was added after Windows NTK 1.6 shipped.</DL>