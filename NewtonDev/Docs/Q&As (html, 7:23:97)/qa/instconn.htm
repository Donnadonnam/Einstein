<HTML><HEAD><TITLE>Newton 2.x Q&amp;A: What Really Happens During Instantiate & Connect</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><CENTER><H2>What Really Happens During Instantiate & Connect</H2><H4> One of the Newton 2.x OS Q&amp;As<BR>Copyright © 1997 Newton, Inc.  All Rights Reserved. Newton, Newton Technology, Newton Works, the Newton, Inc. logo, the Newton Technology logo, the Light Bulb logo and MessagePad are trademarks of Newton, Inc. and may be registered in the U.S.A. and other countries. Windows is a registered trademark of Microsoft Corp. All other trademarks and company names are the intellectual property of their respective owners.</H4><BR>For the most recent version of the Q&amp;As on the World Wide Web, check the URL: <CODE><A HREF="http://www.newton-inc.com/dev/techinfo/qa/qa.htm">http://www.newton-inc.com/dev/techinfo/qa/qa.htm</A></CODE><BR>If you've copied this file locally,<A HREF="qa.htm">click here to go to the main Newton Q&amp;A page.</A><BR>This document was exported on 7/23/97.</CENTER><H3><HR><B> </B>What Really Happens During Instantiate & Connect  (6/14/94)</H3><DL><DD>Q:    Does <CODE>Instantiate</CODE>, <CODE>Bind</CODE> or <CODE>Connect</CODE> touch the hardware?<BR><BR>A:    Exactly what happens depends on the type of endpoint being used.  In general:<BR><BR>    The endpoint requests one or more communications services using endpoint options like this:<BR><BR><CODE><PRE>{  type:      'service,  label:     kCMSAsyncSerial,  opCode:    opSetRequired}</PRE><BR>    &lt;see diagram section A&gt;</CODE> <BR><BR>    The CommManager task creates the appropriate CommTool task(s) and replies to the communications service request.  Each CommTool task initializes itself .  In response to the <CODE>Bind </CODE>request the CommTool acquires access to any physical hardware it controls, such as powering up the device.  The endpoint is ready-to-go.<BR><BR>    <CODE>&lt;see diagram section B&gt;</CODE><BR><BR>    An endpoint may use multiple CommTool tasks, but there will be a single NewtonScript endpoint reference for them.<BR><BR>    When the endpoint requests a connection, the CommTool interacts wih the physical hardware (or a lower level CommTool) as necessary to complete the connection, depending on the type of communications service.  For example, ADSP will use the endpoint address frame to perform an NBP lookup and connection request.  MNP  will negotiate protocol specifications such as compression and error correction.<BR><BR>    <CODE>&lt;see diagram section C&gt;</CODE><BR><BR>    The CommTool completes the connection and replies to the connection request.  Note that if this is done asynchronously, the Newt task continues execution, giving the user an option to abort the connection request.<BR><BR>    <CODE>&lt;see diagram section D&gt;</CODE><BR><BR>    <CODE>Disconnect</CODE> functions similarly to <CODE>Connect</CODE>, moving the endpoint into a disconnected state.  <CODE>Unbind</CODE> releases any hardware controlled by the CommTool. <CODE>Dispose</CODE> deallocates the CommTool task.<BR></DL><CENTER><IMG BORDER="0" SRC="pictures/instanti.gif" ALT="Q&amp;A Diagram"></CENTER>